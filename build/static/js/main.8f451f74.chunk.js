(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),u=t(14),i=t(2),l=t(3),m=t.n(l),f="/api/persons",s=function(){return m.a.get(f).then((function(e){return e.data}))},b=function(e){return m.a.post(f,e).then((function(e){return e.data}))},d=function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){m.a.delete("".concat(f,"/").concat(e))},h=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("div",null,n.name," ",n.number,r.a.createElement("button",{onClick:t},"delete"))};t(37);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var O=function(e){var n=e.message,t=e.className;return null===n?null:r.a.createElement("div",{className:t},n)},g=function(e){var n=Object(a.useState)([]),t=Object(i.a)(n,2),o=t[0],c=t[1],l=Object(a.useState)(""),m=Object(i.a)(l,2),f=m[0],g=m[1],j=Object(a.useState)(""),E=Object(i.a)(j,2),w=E[0],y=E[1],P=Object(a.useState)(""),S=Object(i.a)(P,2),k=S[0],C=S[1],D=Object(a.useState)([]),N=Object(i.a)(D,2),T=N[0],J=N[1],L=Object(a.useState)(null),x=Object(i.a)(L,2),z=x[0],A=x[1],B=Object(a.useState)("notification"),I=Object(i.a)(B,2),M=I[0],U=I[1],q=""===k?o:T;return Object(a.useEffect)((function(){s().then((function(e){return c(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"My phonebook"),r.a.createElement(O,{message:z,className:M}),r.a.createElement("div",null,"filter shown with: ",r.a.createElement("input",{value:k,onChange:function(e){C(e.target.value),T.map((function(e){return console.log(e.name,e.number)})),J(function(e,n){for(var t=[],a=0;a<e.length;a++)e[a].name.toLowerCase().includes(n.toLowerCase())&&""!==n&&t.push(e[a]);return t}(o,e.target.value))}})),r.a.createElement("h2",null,"add a new"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:f,id:o.length+1,number:w};if(!function(e){if(0===e.name.length)return console.log("zero length name"),!0}(n))if(function(e,n){for(var t=0;t<e.length;t++)if(e[t].name===n)return!0;return!1}(o,n.name)){if(window.confirm("".concat(n.name," is already added to phonebook, \n      replace the old number with a new one?"))){var t=o.find((function(e){return e.name===n.name})),a=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(t,!0).forEach((function(n){Object(u.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},t,{number:n.number});d(t.id,a).then((function(e){c(o.map((function(t){return t.name!==n.name?t:e}))),U("notification"),A("Upadated ".concat(n.name)),setTimeout((function(){A(null)}),5e3)})).catch((function(e){U("error"),A("".concat(n.name," was already removed from server")),setTimeout((function(){A(null)}),5e3),c(o.filter((function(e){return e.name!==n.name})))})),g(""),y("")}}else b(n).then((function(){c(o.concat(n)),g(""),y(""),U("notification"),A("Added ".concat(n.name)),setTimeout((function(){A(null)}),5e3)})).catch((function(e){U("error"),A("".concat(e.response.data.error)),console.log(e.response),setTimeout((function(){A(null)}),5e3)}))}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:f,onChange:function(e){g(e.target.value)},name:"newName"})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:w,onChange:function(e){y(e.target.value)},name:"newNumber"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))),r.a.createElement("h2",null,"Numbers"),r.a.createElement("div",null,q.map((function(e){return r.a.createElement(h,{key:e.id,person:e,deletePerson:function(){return n=e.name,t=e.id,void(window.confirm("Delete ".concat(n,"?"))&&(p(t),c(o.filter((function(e){return e.id!==t})))));var n,t}})}))))};c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8f451f74.chunk.js.map